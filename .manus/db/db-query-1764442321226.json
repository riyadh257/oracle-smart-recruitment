{
  "query": "CREATE TABLE IF NOT EXISTS `scheduled_reports` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `report_name` varchar(255) NOT NULL,\n  `report_type` enum('saudization','recruitment','skills_gap','comprehensive') NOT NULL,\n  `schedule_type` enum('monthly','quarterly','custom') NOT NULL DEFAULT 'monthly',\n  `day_of_month` int DEFAULT 1,\n  `is_active` boolean DEFAULT true,\n  `recipient_emails` json NOT NULL,\n  `include_charts` boolean DEFAULT true,\n  `include_predictions` boolean DEFAULT false,\n  `created_by` int NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `scheduled_reports_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_history` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `scheduled_report_id` int,\n  `report_type` varchar(100) NOT NULL,\n  `report_title` varchar(255) NOT NULL,\n  `file_key` varchar(500) NOT NULL,\n  `file_url` varchar(1000) NOT NULL,\n  `file_format` enum('pdf','excel') NOT NULL,\n  `recipient_emails` json NOT NULL,\n  `sent_at` timestamp NOT NULL DEFAULT (now()),\n  `generated_by` int,\n  `status` enum('generated','sent','failed') NOT NULL DEFAULT 'generated',\n  `error_message` text,\n  CONSTRAINT `report_history_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `saudization_predictions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `month` int NOT NULL,\n  `year` int NOT NULL,\n  `predicted_percentage` int NOT NULL,\n  `confidence_lower` int NOT NULL,\n  `confidence_upper` int NOT NULL,\n  `model_version` varchar(50) NOT NULL,\n  `based_on_months` int NOT NULL,\n  `prediction_factors` json,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `saudization_predictions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_templates` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `template_name` varchar(255) NOT NULL,\n  `template_type` enum('saudization','recruitment','skills_gap','comprehensive') NOT NULL,\n  `is_default` boolean DEFAULT false,\n  `header_config` json,\n  `sections_config` json NOT NULL,\n  `chart_config` json,\n  `created_by` int NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `report_templates_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3HwZw1vuDqLodBY.root --database hjcHA4SjAwhM6aP28vcAkH --execute CREATE TABLE IF NOT EXISTS `scheduled_reports` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `report_name` varchar(255) NOT NULL,\n  `report_type` enum('saudization','recruitment','skills_gap','comprehensive') NOT NULL,\n  `schedule_type` enum('monthly','quarterly','custom') NOT NULL DEFAULT 'monthly',\n  `day_of_month` int DEFAULT 1,\n  `is_active` boolean DEFAULT true,\n  `recipient_emails` json NOT NULL,\n  `include_charts` boolean DEFAULT true,\n  `include_predictions` boolean DEFAULT false,\n  `created_by` int NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `scheduled_reports_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_history` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `scheduled_report_id` int,\n  `report_type` varchar(100) NOT NULL,\n  `report_title` varchar(255) NOT NULL,\n  `file_key` varchar(500) NOT NULL,\n  `file_url` varchar(1000) NOT NULL,\n  `file_format` enum('pdf','excel') NOT NULL,\n  `recipient_emails` json NOT NULL,\n  `sent_at` timestamp NOT NULL DEFAULT (now()),\n  `generated_by` int,\n  `status` enum('generated','sent','failed') NOT NULL DEFAULT 'generated',\n  `error_message` text,\n  CONSTRAINT `report_history_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `saudization_predictions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `month` int NOT NULL,\n  `year` int NOT NULL,\n  `predicted_percentage` int NOT NULL,\n  `confidence_lower` int NOT NULL,\n  `confidence_upper` int NOT NULL,\n  `model_version` varchar(50) NOT NULL,\n  `based_on_months` int NOT NULL,\n  `prediction_factors` json,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `saudization_predictions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_templates` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `template_name` varchar(255) NOT NULL,\n  `template_type` enum('saudization','recruitment','skills_gap','comprehensive') NOT NULL,\n  `is_default` boolean DEFAULT false,\n  `header_config` json,\n  `sections_config` json NOT NULL,\n  `chart_config` json,\n  `created_by` int NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `report_templates_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2793
}