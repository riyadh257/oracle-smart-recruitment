{
  "query": "CREATE TABLE IF NOT EXISTS emailSchedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employerId INT NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  emailType VARCHAR(100) NOT NULL,\n  templateId VARCHAR(100),\n  templateVersionId INT,\n  subject VARCHAR(500) NOT NULL,\n  bodyHtml TEXT NOT NULL,\n  bodyText TEXT,\n  recipientType ENUM('all_candidates', 'matched_candidates', 'specific_job', 'custom_list') NOT NULL,\n  recipientFilter JSON,\n  scheduledFor TIMESTAMP NULL,\n  useSmartTiming BOOLEAN DEFAULT FALSE,\n  recommendedSendTime TIMESTAMP NULL,\n  status ENUM('draft', 'scheduled', 'sending', 'sent', 'cancelled', 'failed') DEFAULT 'draft',\n  isRecurring BOOLEAN DEFAULT FALSE,\n  recurringPattern VARCHAR(100),\n  totalRecipients INT DEFAULT 0,\n  sentCount INT DEFAULT 0,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  sentAt TIMESTAMP NULL,\n  createdBy INT NOT NULL,\n  INDEX idx_employer (employerId),\n  INDEX idx_status (status),\n  INDEX idx_scheduled (scheduledFor),\n  FOREIGN KEY (employerId) REFERENCES employers(id) ON DELETE CASCADE,\n  FOREIGN KEY (createdBy) REFERENCES users(id) ON DELETE CASCADE,\n  FOREIGN KEY (templateVersionId) REFERENCES emailTemplateVersions(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3HwZw1vuDqLodBY.root --database hjcHA4SjAwhM6aP28vcAkH --execute CREATE TABLE IF NOT EXISTS emailSchedules (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  employerId INT NOT NULL,\n  name VARCHAR(255) NOT NULL,\n  emailType VARCHAR(100) NOT NULL,\n  templateId VARCHAR(100),\n  templateVersionId INT,\n  subject VARCHAR(500) NOT NULL,\n  bodyHtml TEXT NOT NULL,\n  bodyText TEXT,\n  recipientType ENUM('all_candidates', 'matched_candidates', 'specific_job', 'custom_list') NOT NULL,\n  recipientFilter JSON,\n  scheduledFor TIMESTAMP NULL,\n  useSmartTiming BOOLEAN DEFAULT FALSE,\n  recommendedSendTime TIMESTAMP NULL,\n  status ENUM('draft', 'scheduled', 'sending', 'sent', 'cancelled', 'failed') DEFAULT 'draft',\n  isRecurring BOOLEAN DEFAULT FALSE,\n  recurringPattern VARCHAR(100),\n  totalRecipients INT DEFAULT 0,\n  sentCount INT DEFAULT 0,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  sentAt TIMESTAMP NULL,\n  createdBy INT NOT NULL,\n  INDEX idx_employer (employerId),\n  INDEX idx_status (status),\n  INDEX idx_scheduled (scheduledFor),\n  FOREIGN KEY (employerId) REFERENCES employers(id) ON DELETE CASCADE,\n  FOREIGN KEY (createdBy) REFERENCES users(id) ON DELETE CASCADE,\n  FOREIGN KEY (templateVersionId) REFERENCES emailTemplateVersions(id) ON DELETE SET NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1861
}