{
  "query": "CREATE TABLE IF NOT EXISTS complianceAlertHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  ruleId INT NOT NULL,\n  userId INT NOT NULL,\n  -- Alert details\n  triggeredAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  alertMessage TEXT NOT NULL,\n  severity ENUM('low', 'medium', 'high', 'critical') NOT NULL,\n  -- Change details\n  tableName VARCHAR(100),\n  recordId INT,\n  fieldName VARCHAR(100),\n  oldValue TEXT,\n  newValue TEXT,\n  changeContext JSON,\n  -- Status tracking\n  status ENUM('active', 'acknowledged', 'resolved', 'escalated', 'dismissed') DEFAULT 'active',\n  acknowledgedBy INT,\n  acknowledgedAt TIMESTAMP NULL,\n  resolvedBy INT,\n  resolvedAt TIMESTAMP NULL,\n  resolution TEXT,\n  -- Escalation tracking\n  escalated TINYINT DEFAULT 0,\n  escalatedAt TIMESTAMP NULL,\n  escalatedTo INT,\n  FOREIGN KEY (ruleId) REFERENCES complianceAlertRules(id) ON DELETE CASCADE,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  FOREIGN KEY (acknowledgedBy) REFERENCES users(id) ON DELETE SET NULL,\n  FOREIGN KEY (resolvedBy) REFERENCES users(id) ON DELETE SET NULL,\n  FOREIGN KEY (escalatedTo) REFERENCES users(id) ON DELETE SET NULL,\n  INDEX ruleId_idx (ruleId),\n  INDEX userId_idx (userId),\n  INDEX status_idx (status),\n  INDEX severity_idx (severity),\n  INDEX triggeredAt_idx (triggeredAt)\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3HwZw1vuDqLodBY.root --database hjcHA4SjAwhM6aP28vcAkH --execute CREATE TABLE IF NOT EXISTS complianceAlertHistory (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  ruleId INT NOT NULL,\n  userId INT NOT NULL,\n  -- Alert details\n  triggeredAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  alertMessage TEXT NOT NULL,\n  severity ENUM('low', 'medium', 'high', 'critical') NOT NULL,\n  -- Change details\n  tableName VARCHAR(100),\n  recordId INT,\n  fieldName VARCHAR(100),\n  oldValue TEXT,\n  newValue TEXT,\n  changeContext JSON,\n  -- Status tracking\n  status ENUM('active', 'acknowledged', 'resolved', 'escalated', 'dismissed') DEFAULT 'active',\n  acknowledgedBy INT,\n  acknowledgedAt TIMESTAMP NULL,\n  resolvedBy INT,\n  resolvedAt TIMESTAMP NULL,\n  resolution TEXT,\n  -- Escalation tracking\n  escalated TINYINT DEFAULT 0,\n  escalatedAt TIMESTAMP NULL,\n  escalatedTo INT,\n  FOREIGN KEY (ruleId) REFERENCES complianceAlertRules(id) ON DELETE CASCADE,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  FOREIGN KEY (acknowledgedBy) REFERENCES users(id) ON DELETE SET NULL,\n  FOREIGN KEY (resolvedBy) REFERENCES users(id) ON DELETE SET NULL,\n  FOREIGN KEY (escalatedTo) REFERENCES users(id) ON DELETE SET NULL,\n  INDEX ruleId_idx (ruleId),\n  INDEX userId_idx (userId),\n  INDEX status_idx (status),\n  INDEX severity_idx (severity),\n  INDEX triggeredAt_idx (triggeredAt)\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1835
}