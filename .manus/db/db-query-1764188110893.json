{
  "query": "\nCREATE TABLE IF NOT EXISTS alert_email_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  company_id INT NOT NULL,\n  template_name VARCHAR(255) NOT NULL,\n  subject VARCHAR(500) NOT NULL,\n  body_html TEXT NOT NULL,\n  body_text TEXT,\n  variables TEXT,\n  category ENUM('instant', 'daily', 'weekly') NOT NULL,\n  is_default INT DEFAULT 0 NOT NULL,\n  is_active INT DEFAULT 1 NOT NULL,\n  created_by INT NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS alert_template_ab_tests (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  company_id INT NOT NULL,\n  test_name VARCHAR(255) NOT NULL,\n  template_a_id INT NOT NULL,\n  template_b_id INT NOT NULL,\n  traffic_split INT DEFAULT 50 NOT NULL,\n  status ENUM('draft', 'running', 'paused', 'completed') DEFAULT 'draft' NOT NULL,\n  winner_id INT,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_by INT NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS alert_analytics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  alert_id INT NOT NULL,\n  template_id INT,\n  ab_test_id INT,\n  sent_count INT DEFAULT 0 NOT NULL,\n  delivered_count INT DEFAULT 0 NOT NULL,\n  opened_count INT DEFAULT 0 NOT NULL,\n  clicked_count INT DEFAULT 0 NOT NULL,\n  converted_count INT DEFAULT 0 NOT NULL,\n  bounced_count INT DEFAULT 0 NOT NULL,\n  unsubscribed_count INT DEFAULT 0 NOT NULL,\n  last_sent_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS alert_tracking_events (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  alert_id INT NOT NULL,\n  candidate_id INT NOT NULL,\n  template_id INT,\n  ab_test_id INT,\n  event_type ENUM('sent', 'delivered', 'opened', 'clicked', 'converted', 'bounced', 'unsubscribed') NOT NULL,\n  metadata TEXT,\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3HwZw1vuDqLodBY.root --database hjcHA4SjAwhM6aP28vcAkH --execute \nCREATE TABLE IF NOT EXISTS alert_email_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  company_id INT NOT NULL,\n  template_name VARCHAR(255) NOT NULL,\n  subject VARCHAR(500) NOT NULL,\n  body_html TEXT NOT NULL,\n  body_text TEXT,\n  variables TEXT,\n  category ENUM('instant', 'daily', 'weekly') NOT NULL,\n  is_default INT DEFAULT 0 NOT NULL,\n  is_active INT DEFAULT 1 NOT NULL,\n  created_by INT NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS alert_template_ab_tests (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  company_id INT NOT NULL,\n  test_name VARCHAR(255) NOT NULL,\n  template_a_id INT NOT NULL,\n  template_b_id INT NOT NULL,\n  traffic_split INT DEFAULT 50 NOT NULL,\n  status ENUM('draft', 'running', 'paused', 'completed') DEFAULT 'draft' NOT NULL,\n  winner_id INT,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_by INT NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS alert_analytics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  alert_id INT NOT NULL,\n  template_id INT,\n  ab_test_id INT,\n  sent_count INT DEFAULT 0 NOT NULL,\n  delivered_count INT DEFAULT 0 NOT NULL,\n  opened_count INT DEFAULT 0 NOT NULL,\n  clicked_count INT DEFAULT 0 NOT NULL,\n  converted_count INT DEFAULT 0 NOT NULL,\n  bounced_count INT DEFAULT 0 NOT NULL,\n  unsubscribed_count INT DEFAULT 0 NOT NULL,\n  last_sent_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS alert_tracking_events (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  alert_id INT NOT NULL,\n  candidate_id INT NOT NULL,\n  template_id INT,\n  ab_test_id INT,\n  event_type ENUM('sent', 'delivered', 'opened', 'clicked', 'converted', 'bounced', 'unsubscribed') NOT NULL,\n  metadata TEXT,\n  timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2825
}